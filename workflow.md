# Questions to be answered in the analysis
## Completeness
- **How 'much' of an area's cycling infrastructure is mapped?**
    - Total length/total length of different types of infrastructure
    - Development in contributions

## Quality
- **How well is it mapped?**
    - Differences in network structure
    - Differences in routing
    - Matching of data sets
    - Missing tags
    - Number of contributors

<br/>


# Workflow

## Load Data
For OSM and potentially also reference data set:

**Load network data**
- Clip to study area
- Reproject
- Convert to graph structure
- Simplify
- Compute simple descriptions of dataset (length, area covered, density)
- Save to file

**Load historical OSM data**
- How? Can it be done in Python?


## Extrinsic Analysis
*Requires a reference data set.*

**Metrics are:**
- **Length of different types of cycling infrastructure** (how to translate classifications/typologies in different places??)
    - Total and per grid cell
    - *References:  Ferster et al, 2019;  Forghani and Delavar, 2014; Haklay, 2010; Hochmair et al, 2015*
- **Differing features in the two datasets (based on matching)** 
    - Total and per grid cell
    - *References: Brovelli et al, 2016; Koukoletsos et al, 2012; Girres and Touya, 2010; Alireza Chehreghan and Rahim Ali Abbaspour, 2018*
- **Comparison of network structure**
    - E.g. number of connected components, alpha, beta and gamma, dangling nodes etc.
- **Routing/shortest path**
    - Differences in shortest paths between abritary points (points on the network? Between all nodes?)
    - *References: Graser et al, 2014; Mondzech and Sester, 2011*


## Intrinsic Analysis
- **Number of contributors**
    - Total and per grid cell
    - *References: Gröchenig et al, 2014; Neis et al, 2012*
- **Historical development in contributions over time**
    - Total and per grid cell
    - For different types of infra (also include general road network?)
    - *References: Gröchenig et al, 2014; Neis et al, 2012; Keßler and de Groot 2013; Keßler et al. 2011* 
- **Missing tags**
    - *References: Girres and Touya, 2010*
- **Logical/conceptual consistency**
    - E.g. different ways of tagging the same infrastructure - is this a problem?
    - Combination of incompatible tags or meaningless tag values
    - *References: Barron et al, 2013; Girres and Touya, 2010*

"Logical consistency: this is an aspect of the internal consistency of the dataset, in terms of topological correctness and the relationships that are encoded in the database. ." (Haklay, 2010)

"logical consistency: internal consistency of the data, and the data set's adherence to its own defined rules." (Goodchild and Clarke, 2002)

 "The first inconsistency is identified by analyzing roads which do not share a common Node with another one and and lie within a radius of one meter. The second inconsistency is identified by calculating duplicate road geometries. The third inconsistency is detected by analyzing roads which intersect but do not share a common Node. This can also be caused by missing tags characterizing bridges or tunnels. These topological errors are calculated, quantified and subsequently visualized" (Barron et al, 2013)

 "logical consistency can be defined as “degree of adherence to logical rules of data structure, attribution, and relationships”. Four main sub-elements considered for logical consistency in this standard are conceptual consistency, domain consistency, format consistency, and topological consistency." (Hashemi and Abbaspour, 2015)

## Interpretation and Presentation of results
- Analysis of identified errors/inconsistencies - e.g. spatial clustering/autocorrelation - is there a tendency?
- Autogenerated summary and plots

# TO-DO

- Update functions in src folder
- Update load-data script (should be correctly simplified)
- How to get data on number of contributors etc. from OSM?
- Implement function for creating grid for study area
- Implement function for running a function for each grid cell
- Function for determining whether an OSM way has cycling infra in one or both sides (for length comparison)


